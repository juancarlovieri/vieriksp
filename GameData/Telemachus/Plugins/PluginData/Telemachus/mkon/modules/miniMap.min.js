function init(e){var o=e.u,l=e.c||MKON.LAYOUT.defaultCol,a=e.r||MKON.LAYOUT.defaultRow,r=(e.m||"",e.w,e.h,MKON.FNC.randomString(5)),n=["o.ApA","o.PeA","o.trueAnomaly","o.eccentricity","v.body"],t=new MKON.module("Mini-Map","Screen",r,n,function(){function e(e,o,l,i,a,r,n){o+=i*a;var t=i*(1-a*a)/(1+a),T=o+t,d=l;e.beginPath(),e.moveTo(T,d);for(var b=0,g=2*Math.PI;g>b;)t=i*(1-a*a)/(1+a*Math.cos(b)),T=o+t*Math.cos(b),d=l+t*Math.sin(b),e.lineTo(T,d),b+=.01*Math.PI;e.lineWidth=r,e.strokeStyle=n,e.closePath(),e.stroke()}function o(e,o,l,i,a,r){o+=i*a;var n=i*(1-a*a)/(1+a*Math.cos(r)),t=o+n*Math.cos(r),T=l+n*Math.sin(r);e.save(),e.translate(t,T);var d=e.createLinearGradient(-6,-1,7,-1);d.addColorStop(0,"rgba(59,176,42,1)"),d.addColorStop(.2795698928833008,"rgba(175,250,61,1)"),d.addColorStop(.6881719970703125,"rgba(175,250,61,1)"),d.addColorStop(1,"rgba(59,176,42,1)"),e.fillStyle=d,e.beginPath(),e.moveTo(-5,0),e.lineTo(-1,-6),e.lineTo(-1,-9),e.lineTo(2,-9),e.lineTo(2,-6),e.lineTo(6,0),e.bezierCurveTo(6,0,8,2,6,4),e.lineTo(5,5),e.lineTo(-4,5),e.bezierCurveTo(-4,5,-5,4,-5,3),e.bezierCurveTo(-5,3,-6,1,-5,0),e.fill(),e.fillStyle="rgb(153,153,153)",e.beginPath(),e.moveTo(1,0),e.bezierCurveTo(1,0,1,1,0,1),e.lineTo(-1,0),e.bezierCurveTo(-1,-2,0,-3,0,-3),e.bezierCurveTo(1,-3,1,-2,1,0),e.fill(),e.fillStyle="rgb(188,210,187)",e.beginPath(),e.moveTo(1,0),e.lineTo(0,0),e.lineTo(0,0),e.bezierCurveTo(0,-1,0,-1,0,-1),e.bezierCurveTo(0,-1,1,-1,1,0),e.fill(),e.fillStyle="rgb(105,202,44)",e.fillRect(-1,-6,4,0),e.fill(),e.restore()}function l(e,o){x=o,y=0,e.save(),e.translate(x,y);var l=e.createLinearGradient(13,8,13,-11);l.addColorStop(0,"rgba(113,162,40,1)"),l.addColorStop(.10752686500549316,"rgba(175,250,61,1)"),l.addColorStop(.9032257080078125,"rgba(175,250,61,1)"),l.addColorStop(1,"rgba(113,162,40,1)"),e.fillStyle=l,e.beginPath(),e.moveTo(27,-10),e.lineTo(11,-10),e.lineTo(0,0),e.lineTo(11,9),e.lineTo(27,9),e.lineTo(27,-10),e.fill(),e.fillStyle="rgb(0,0,0)",e.beginPath(),e.moveTo(17,-3),e.lineTo(17,-1),e.bezierCurveTo(17,0,17,0,15,0),e.lineTo(14,0),e.lineTo(14,4),e.lineTo(12,4),e.lineTo(12,-5),e.lineTo(15,-5),e.bezierCurveTo(17,-5,17,-4,17,-3),e.fill();var l=e.createLinearGradient(14,-2,15,-2);l.addColorStop(0,"rgba(113,162,40,1)"),l.addColorStop(.10752686500549316,"rgba(175,250,61,1)"),l.addColorStop(.9032257080078125,"rgba(175,250,61,1)"),l.addColorStop(1,"rgba(113,162,40,1)"),e.fillStyle=l,e.beginPath(),e.moveTo(14,-4),e.lineTo(14,0),e.lineTo(15,0),e.bezierCurveTo(15,0,16,0,16,-1),e.lineTo(16,-3),e.bezierCurveTo(16,-4,15,-4,15,-4),e.lineTo(14,-4),e.fill(),e.fillStyle="rgb(0,0,0)",e.beginPath(),e.moveTo(20,-1),e.lineTo(22,-1),e.lineTo(22,0),e.lineTo(20,0),e.lineTo(20,3),e.lineTo(23,3),e.lineTo(23,4),e.lineTo(18,4),e.lineTo(18,-5),e.lineTo(23,-5),e.lineTo(23,-4),e.lineTo(20,-4),e.lineTo(20,-1),e.fill(),e.restore(),x=-o,y=0,e.save(),e.translate(x,y);var l=e.createLinearGradient(-13,9,-12,-10);l.addColorStop(0,"rgba(113,162,40,1)"),l.addColorStop(.10752686500549316,"rgba(175,250,61,1)"),l.addColorStop(.9032257080078125,"rgba(175,250,61,1)"),l.addColorStop(1,"rgba(113,162,40,1)"),e.fillStyle=l,e.beginPath(),e.moveTo(-27,-10),e.lineTo(-11,-10),e.lineTo(0,0),e.lineTo(-11,9),e.lineTo(-27,9),e.lineTo(-27,-10),e.fill(),e.fillStyle="rgb(0,0,0)",e.beginPath(),e.moveTo(-17,4),e.lineTo(-19,4),e.lineTo(-19,2),e.lineTo(-21,2),e.lineTo(-22,4),e.lineTo(-23,4),e.lineTo(-21,-5),e.lineTo(-19,-5),e.lineTo(-17,4),e.fill();var l=e.createLinearGradient(-21,-1,-19,-1);l.addColorStop(0,"rgba(113,162,40,1)"),l.addColorStop(.10752686500549316,"rgba(175,250,61,1)"),l.addColorStop(.9032257080078125,"rgba(175,250,61,1)"),l.addColorStop(1,"rgba(113,162,40,1)"),e.fillStyle=l,e.beginPath(),e.moveTo(-21,1),e.lineTo(-19,1),e.lineTo(-20,-3),e.lineTo(-21,1),e.fill(),e.fillStyle="rgb(0,0,0)",e.beginPath(),e.moveTo(-12,-3),e.lineTo(-12,-1),e.bezierCurveTo(-12,0,-13,0,-14,0),e.lineTo(-15,0),e.lineTo(-15,4),e.lineTo(-17,4),e.lineTo(-17,-5),e.lineTo(-14,-5),e.bezierCurveTo(-13,-5,-12,-4,-12,-3),e.fill();var l=e.createLinearGradient(-15,-2,-13,-2);l.addColorStop(0,"rgba(113,162,40,1)"),l.addColorStop(.10752686500549316,"rgba(175,250,61,1)"),l.addColorStop(.9032257080078125,"rgba(175,250,61,1)"),l.addColorStop(1,"rgba(113,162,40,1)"),e.fillStyle=l,e.beginPath(),e.moveTo(-15,-4),e.lineTo(-15,0),e.lineTo(-14,0),e.bezierCurveTo(-14,0,-13,0,-13,-1),e.lineTo(-13,-3),e.lineTo(-14,-4),e.lineTo(-15,-4),e.fill(),e.restore()}function a(e){var o=[["Sun",2616e5],["Kerbin",6e5],["Mun",2e5],["Minmus",6e4],["Eve",7e5],["Gilly",13e3],["Moho",25e4],["Duna",32e4],["Dres",138e3],["Jool",6e6],["Laythe",5e5],["Vall",3e5],["Tylo",6e5],["Bop",65e3],["Pol",44e3],["Eeloo",138e3],["Ike",13e4]];for(i=0;i<o.length;i++)if(e===o[i][0])return o[i][1];return 0}function r(e){var o=[["Sun",0],["Kerbin",69077],["Mun",0],["Minmus",0],["Eve",96708],["Gilly",0],["Moho",0],["Duna",202650],["Dres",0],["Jool",138155],["Laythe",55262],["Vall",0],["Tylo",0],["Bop",0],["Pol",0],["Eeloo",0],["Ike",0]];for(i=0;i<o.length;i++)if(e===o[i][0])return o[i][1];return 0}var t=($("#"+this.id),170),T=document.getElementById("canvas"+this.id),d=T.getContext("2d"),b=MKON.CONTENT.getVariable(n[0]),g=MKON.CONTENT.getVariable(n[1]),v=MKON.CONTENT.getVariable(n[2]),s=MKON.CONTENT.getVariable(n[3]),c=MKON.CONTENT.getVariable(n[4])||"NOTHING",f=a(c),C=f+r(c),u=2*t/(g+b+2*f),S=-(v/190)*Math.PI;d.save(),d.clearRect(0,0,400,400),d.translate(200,200),1>s?(e(d,0,0,t,s,1,"YellowGreen"),e(d,s*t,0,f*u,0,.5,"White"),e(d,s*t,0,C*u,0,.1,"LightBlue"),o(d,0,0,t,s,S),l(d,t),d.fillStyle="lightgrey",d.font="15pt BebasNeue",d.translate(-200,-180),d.fillText("ORBITING "+c,0,0)):(d.fillStyle="lightgrey",d.font="15pt BebasNeue",d.translate(-200,-180),d.fillText("paraboloid orbits not yet implemented...",0,0)),d.restore()}),T='<li id="'+r+'" data-row="1" data-col="1" data-link="'+o+'" data-sizex="4" data-sizey="4">						<div class="options">							<div class="remove"><i class="fa fa-close"></i>							</div>						</div>						<div class="content">							<div class="mini-map screen">								<script>									minimapicons = new Image();									minimapicons.src = "./img/minimapicons.png";								</script>								<canvas class="mapcanvas" id="canvas'+r+'" height="400" width="400"></canvas>								<h3>MINI-MAP</h3>								</div>							</div>						</div>					</li>';T={html:T,x:4,y:4,col:l,row:a},MKON.CONTENT.addModule(t,T)}